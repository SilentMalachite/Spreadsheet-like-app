# セキュリティポリシー

プロ表計算ソフトのセキュリティに関する情報と、セキュリティ脆弱性の報告方法について説明します。

## サポート対象バージョン

現在セキュリティアップデートを提供しているバージョン：

| バージョン | サポート状況 |
| ------- | ------------ |
| 1.0.x   | ✅ サポート中 |
| < 1.0   | ❌ サポート終了 |

## セキュリティ脆弱性の報告

### 報告方法

セキュリティ脆弱性を発見した場合は、以下の方法で報告してください：

1. **GitHubのセキュリティアドバイザリ**: [Security Advisories](https://github.com/your-username/spreadsheet-app/security/advisories)
2. **プライベート報告**: セキュリティに関するissueは公開issueではなく、メンテナーに直接連絡

### 報告時に含める情報

- 脆弱性の詳細な説明
- 再現手順
- 影響範囲
- 可能であれば修正案

### 対応プロセス

1. **受領確認**: 24時間以内に報告の受領を確認
2. **初期評価**: 5営業日以内に脆弱性の評価を実施
3. **修正計画**: 評価後、修正計画と予定を報告者に通知
4. **修正実装**: 重要度に応じて修正を実装
5. **公開**: 修正後、適切なタイミングで脆弱性情報を公開

## セキュリティ機能

### Electronアプリケーション

#### セキュア設定
- **Context Isolation**: 有効化済み
- **Node Integration**: 無効化済み
- **Remote Module**: 無効化済み
- **Preload Scripts**: 安全なIPC通信のみ

```javascript
// electron/main.js - セキュリティ設定例
const mainWindow = new BrowserWindow({
  webPreferences: {
    nodeIntegration: false,
    contextIsolation: true,
    enableRemoteModule: false,
    preload: path.join(__dirname, 'preload.js')
  }
});
```

#### ファイルシステムアクセス
- サンドボックス化されたファイルアクセス
- ユーザー明示的な許可が必要な操作のみ
- パス検証による不正アクセス防止

### Webアプリケーション

#### Content Security Policy (CSP)
```html
<meta http-equiv="Content-Security-Policy" content="
  default-src 'self';
  script-src 'self' 'unsafe-inline';
  style-src 'self' 'unsafe-inline';
  font-src 'self';
  connect-src 'self';
">
```

#### データ保護
- ローカルストレージのみ使用（外部送信なし）
- 機密データの暗号化（将来実装予定）
- セッション管理の安全な実装

## 既知のセキュリティ制限

### 現在の制限事項

1. **データ暗号化**: ローカルストレージのデータは平文保存
2. **アクセス制御**: 複数ユーザー対応なし
3. **監査ログ**: 操作履歴の永続化なし

### 将来の改善計画

- [ ] ローカルデータの暗号化
- [ ] ユーザー認証機能
- [ ] 操作ログの実装
- [ ] ファイル権限管理

## セキュリティベストプラクティス

### 開発者向け

#### 依存関係の管理
```bash
# 脆弱性スキャン
npm audit

# 自動修正
npm audit fix

# 定期的な更新
npm update
```

#### セキュアコーディング
- 入力値の検証・サニタイゼーション
- XSS対策の実装
- SQLインジェクション対策（該当する場合）

### ユーザー向け

#### 安全な使用方法
- 信頼できるソースからのみダウンロード
- 定期的なアプリケーション更新
- 重要なデータのバックアップ

#### ファイル取り扱い
- 不明なファイルを開かない
- 機密データの適切な管理
- 共有時の権限設定注意

## インシデント対応

### 緊急時の手順

1. **即座の対応**
   - 影響範囲の特定
   - サービスの一時停止（必要に応じて）
   - 関係者への通知

2. **調査・分析**
   - 根本原因の特定
   - 影響の詳細評価
   - 証拠の保全

3. **復旧・修正**
   - 緊急パッチの適用
   - システムの復旧
   - 再発防止策の実装

4. **事後対応**
   - インシデントレポートの作成
   - 学習事項の共有
   - プロセスの改善

## セキュリティ監査

### 定期監査項目

- [ ] 依存関係の脆弱性チェック
- [ ] コードのセキュリティレビュー
- [ ] 設定ファイルの安全性確認
- [ ] アクセス権限の適切性検証

### 監査ツール

```bash
# npm audit
npm audit

# ESLintセキュリティプラグイン
npm install eslint-plugin-security --save-dev

# Electronセキュリティチェック
npm install @doyensec/electronegativity --save-dev
```

## 規制遵守

### プライバシー保護

- **データ最小化**: 必要最小限のデータのみ収集
- **ローカル処理**: データの外部送信なし
- **ユーザー制御**: データの完全な制御権をユーザーに提供

### オープンソースライセンス

- すべての依存関係のライセンス確認
- GPL互換性の維持
- 著作権表示の適切な実装

## 連絡先

### セキュリティチーム
- セキュリティ関連の問い合わせ: [GitHub Issues](https://github.com/your-username/spreadsheet-app/issues)
- 緊急時の連絡: GitHubのセキュリティアドバイザリ機能を使用

### 報告後の流れ

1. **確認返信**: 24時間以内
2. **初期評価**: 5営業日以内
3. **修正計画**: 評価完了後3営業日以内
4. **進捗報告**: 週次での状況報告

## 謝辞

セキュリティ向上に貢献してくださった研究者、開発者の皆様に感謝いたします。責任ある開示にご協力いただき、プロジェクトの安全性向上に寄与していただきました。

## 更新履歴

- **2025-06-15**: 初版作成
- **2025-06-15**: Electronセキュリティ設定を追加
- **2025-06-15**: CSP設定を追加

---

このセキュリティポリシーは定期的に見直され、プロジェクトの発展に合わせて更新されます。